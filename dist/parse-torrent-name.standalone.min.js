/*! parse-torrent-name 0.5.1 2014-11-18 */
!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b){"use strict";var c=a("events").EventEmitter,d=function(){c.call(this);var a;this.getParts=function(){return a},this.on("setup",function(){a={}}),this.on("part",function(b){a[b.name]=b.clean})};d.prototype=Object.create(c.prototype),d.prototype.constructor=c,d.prototype.exec=function(a){return this.emit("setup",{name:a}),this.emit("start"),this.emit("end"),this.getParts()},b.exports=new d},{events:4}],2:[function(a){"use strict";!function(b){b.ptn=a("./index.js")}(window)},{"./index.js":3}],3:[function(a,b){"use strict";a("./parts/common"),a("./parts/title"),a("./parts/excess"),b.exports=function(b){return a("./core").exec(b)}},{"./core":1,"./parts/common":5,"./parts/excess":6,"./parts/title":7}],4:[function(a,b){function c(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function d(a){return"function"==typeof a}function e(a){return"number"==typeof a}function f(a){return"object"==typeof a&&null!==a}function g(a){return void 0===a}b.exports=c,c.EventEmitter=c,c.prototype._events=void 0,c.prototype._maxListeners=void 0,c.defaultMaxListeners=10,c.prototype.setMaxListeners=function(a){if(!e(a)||0>a||isNaN(a))throw TypeError("n must be a positive number");return this._maxListeners=a,this},c.prototype.emit=function(a){var b,c,e,h,i,j;if(this._events||(this._events={}),"error"===a&&(!this._events.error||f(this._events.error)&&!this._events.error.length)){if(b=arguments[1],b instanceof Error)throw b;throw TypeError('Uncaught, unspecified "error" event.')}if(c=this._events[a],g(c))return!1;if(d(c))switch(arguments.length){case 1:c.call(this);break;case 2:c.call(this,arguments[1]);break;case 3:c.call(this,arguments[1],arguments[2]);break;default:for(e=arguments.length,h=new Array(e-1),i=1;e>i;i++)h[i-1]=arguments[i];c.apply(this,h)}else if(f(c)){for(e=arguments.length,h=new Array(e-1),i=1;e>i;i++)h[i-1]=arguments[i];for(j=c.slice(),e=j.length,i=0;e>i;i++)j[i].apply(this,h)}return!0},c.prototype.addListener=function(a,b){var e;if(!d(b))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",a,d(b.listener)?b.listener:b),this._events[a]?f(this._events[a])?this._events[a].push(b):this._events[a]=[this._events[a],b]:this._events[a]=b,f(this._events[a])&&!this._events[a].warned){var e;e=g(this._maxListeners)?c.defaultMaxListeners:this._maxListeners,e&&e>0&&this._events[a].length>e&&(this._events[a].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[a].length),"function"==typeof console.trace&&console.trace())}return this},c.prototype.on=c.prototype.addListener,c.prototype.once=function(a,b){function c(){this.removeListener(a,c),e||(e=!0,b.apply(this,arguments))}if(!d(b))throw TypeError("listener must be a function");var e=!1;return c.listener=b,this.on(a,c),this},c.prototype.removeListener=function(a,b){var c,e,g,h;if(!d(b))throw TypeError("listener must be a function");if(!this._events||!this._events[a])return this;if(c=this._events[a],g=c.length,e=-1,c===b||d(c.listener)&&c.listener===b)delete this._events[a],this._events.removeListener&&this.emit("removeListener",a,b);else if(f(c)){for(h=g;h-->0;)if(c[h]===b||c[h].listener&&c[h].listener===b){e=h;break}if(0>e)return this;1===c.length?(c.length=0,delete this._events[a]):c.splice(e,1),this._events.removeListener&&this.emit("removeListener",a,b)}return this},c.prototype.removeAllListeners=function(a){var b,c;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[a]&&delete this._events[a],this;if(0===arguments.length){for(b in this._events)"removeListener"!==b&&this.removeAllListeners(b);return this.removeAllListeners("removeListener"),this._events={},this}if(c=this._events[a],d(c))this.removeListener(a,c);else for(;c.length;)this.removeListener(a,c[c.length-1]);return delete this._events[a],this},c.prototype.listeners=function(a){var b;return b=this._events&&this._events[a]?d(this._events[a])?[this._events[a]]:this._events[a].slice():[]},c.listenerCount=function(a,b){var c;return c=a._events&&a._events[b]?d(a._events[b])?1:a._events[b].length:0}},{}],5:[function(a){"use strict";var b,c=a("../core"),d={season:/(S?([0-9]{1,2}))[Ex]/,episode:/([Ex]([0-9]{2})[^0-9])/,year:/([\[\(]?((?:19[0-9]|20[01])[0-9])[\]\)]?)/,resolution:/[0-9]{3,4}p/,quality:/(?:PPV\.)?[HP]DTV|(?:HD)?CAM|B[rR]Rip|TS|(?:PPV )?WEB-?DL(?: DVDRip)?|H[dD]Rip|DVDRip|DVDRiP|DVDRIP|CamRip|W[EB]B[rR]ip|BluRay|DvDScr/,codec:/xvid|x264|h\.?264/i,audio:/MP3|DD5\.?1|Dual[\- ]Audio|LiNE|DTS|AAC(?:\.?2\.0)?|AC3(?:\.5\.1)?/,group:/(- ?([^-]+(?:-={[^-]+-?$)?))$/,region:/R[0-9]/,extended:/EXTENDED/,hardcoded:/HC/,proper:/PROPER/,repack:/REPACK/,container:/MKV|AVI/,widescreen:/WS/,garbage:/1400Mb|3rd Nov| ((Rip))/},e={season:"integer",episode:"integer",year:"integer",extended:"boolean",hardcoded:"boolean",proper:"boolean",repack:"boolean",widescreen:"boolean"};c.on("setup",function(a){b=a}),c.on("start",function(){var a,f,g,h,i;for(a in d)if(d.hasOwnProperty(a)){if(!(f=b.name.match(d[a])))continue;if(g={raw:f[1]?1:0,clean:f[1]?2:0},e[a]&&"boolean"===e[a]?h=!0:(h=f[g.clean],e[a]&&"integer"===e[a]&&(h=parseInt(h,10))),"group"===a&&(h.match(d.codec)||h.match(d.quality)))continue;i={name:a,match:f,raw:f[g.raw],clean:h},"episode"===a&&c.emit("map",b.name.replace(i.raw,"{episode}")),c.emit("part",i)}c.emit("common")}),c.on("late",function(a){"group"===a.name?c.emit("part",a):"episodeName"===a.name&&c.emit("part",a)})},{"../core":1}],6:[function(a){"use strict";var b,c,d,e=a("../core"),f=function(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")};e.on("setup",function(a){b=a,c=b.name,d=""}),e.on("part",function(a){"excess"!==a.name&&("group"===a.name&&(d=a.raw),c=c.replace(a.raw,""))}),e.on("map",function(a){b.map=a}),e.on("end",function(){var a,g,h;a=c.replace(/(^[-\. ]+)|[\(\)\/]|([-\. ]+$)/g,""),a=a.split(/\.\.+| +/).filter(Boolean),0!==a.length&&(g=f(a[a.length-1]+d)+"$",b.name.match(new RegExp(g))&&e.emit("late",{name:"group",clean:a.pop()+d}),b.map&&a[0]&&(h="{episode}"+f(a[0]),b.map.match(new RegExp(h))&&e.emit("late",{name:"episodeName",clean:a.shift().replace(/\./g," ")}))),0!==a.length&&e.emit("part",{name:"excess",raw:c,clean:1===a.length?a[0]:a})})},{"../core":1}],7:[function(a){"use strict";var b=a("../core");a("./common");var c,d,e;b.on("setup",function(a){c=a,d=void 0,e=void 0}),b.on("part",function(a){a.match&&(!d||a.match.index<d.index)&&(d=a.match)}),b.on("common",function(){var a=d?c.name.substr(0,d.index).split("(")[0]:c.name,e=a;-1===a.indexOf(" ")&&-1!==a.indexOf(".")&&(e=e.replace(/\./g," ")),e=e.replace(/\($/,"").trim(),b.emit("part",{name:"title",raw:a,clean:e})})},{"../core":1,"./common":5}]},{},[2]);